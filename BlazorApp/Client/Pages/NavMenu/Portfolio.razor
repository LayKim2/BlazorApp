@page "/portfolio"
@using BlazorApp.Client.Components.Portfolio
@inject IJSRuntime JSRuntime
@inject NavigationManager NavigationManager
@inject IPortfolioService PortfolioService
@inject IAuthService AuthService
@implements IDisposable
@attribute [Authorize]

<!-- ======= SideBar Section ======= -->
@if (PortfolioService.IsEdit)
{
    <EditForm Model="edtingPortfolio" OnValidSubmit="SavePortfolio">
        <header id="header">
            <div class="d-flex flex-column">
                <div class="profile">
                    <img src="/images/sample/profile-img.jpg" alt="" class="img-fluid rounded-circle">
                    <InputText @bind-Value="edtingPortfolio.SideName" class="form-control"></InputText>
                    <div class="social-links mt-3 text-center">
                        <a class="twitter"><i class="bx bxl-twitter"></i></a>
                        <a class="facebook"><i class="bx bxl-facebook"></i></a>
                        <a class="instagram"><i class="bx bxl-instagram"></i></a>
                        <a class="google-plus"><i class="bx bxl-skype"></i></a>
                        <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
                    </div>
                </div>

                <nav id="navbar" class="nav-menu navbar">
                    <ul>
                        <li>
                            <a id="navhome" href="" @onclick="@(e => ScrollIntoView("home"))" class="nav-link scrollto active" @onclick:preventDefault><i class='bx bxs-home'></i> <span>Home</span></a>
                        </li>
                        <li>
                            <a id="navabout" href="" @onclick="@(e => ScrollIntoView("about"))" class="nav-link scrollto" @onclick:preventDefault><i class="bx bx-user"></i> <span>About</span></a>
                        </li>
                        <li>
                            <a id="navconcept1" href="" @onclick="@(e => ScrollIntoView("concept1"))" class="nav-link scrollto" @onclick:preventDefault>
                                <i class="bx bxs-layer"></i>
                                <InputText @bind-Value="edtingPortfolio.Concept1" class="form-control"></InputText>
                            </a>
                        </li>
                        <li>
                            <a id="navconcept2" href="" @onclick="@(e => ScrollIntoView("concept2"))" class="nav-link scrollto" @onclick:preventDefault>
                                <i class="bx bxs-layer"></i>
                                <InputText @bind-Value="edtingPortfolio.Concept2" class="form-control"></InputText>
                            </a>
                        </li>
                    </ul>
                </nav>
                <!-- .nav-menu -->
            </div>
        </header>

        <!-- ======= Main Section ======= -->
        <main id="main">
            <div class="row">
                <div class="section-title col-lg-10 col-md-6">
                </div>

                <div class="col-lg-2 col-md-6 d-md-flex">
                    <div>
                        <button class="btn btn-danger" @onclick="() => BackPortfolio()">Back</button>
                        <button class="btn btn-success" @onclick="(() => EditPortfolio())">Edit</button>
                        <button class="btn btn-primary" @onclick="(() => SavePortfolio())">Save</button>
                    </div>
                </div>
            </div>

            <!-- ======= Home Section ======= -->
            <section id="home" class="home">
                <div class="container">

                    <div class="row">
                        <div class="section-title col-lg-10 col-md-6" style="margin-bottom:100px;">
                            <h2>HELLO, MY NAME IS</h2>
                            <p>
                                <h1><strong>청슬</strong>입니다.</h1>
                                <h3>Chung Seul</h3>
                            </p>
                        </div>
                    </div>

                    <div class="row no-gutters">

                        <div class="col-lg-6 col-md-6 d-md-flex align-items-md-stretch aos-init aos-animate" data-aos="fade-up">
                            <div class="count-box">
                                <i class="bi bi-emoji-smile"></i>
                                <p class="align-center" style="font-size:32px; font-weight:bold; color:#173b6c;">Camera Test ( Updated : 11/14/2022 )</p>
                                <iframe width="600"
                                    height="350"
                                    src="https://www.youtube.com/embed/m8e-FF8MsqU"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen></iframe>
                            </div>
                        </div>

                        <div class="col-lg-6 col-md-6 d-md-flex align-items-md-stretch aos-init aos-animate" data-aos="fade-up" data-aos-delay="100">
                            <div class="count-box">
                                <i class="bi bi-journal-richtext"></i>
                                <p style="font-size:32px; font-weight:bold; color:#173b6c">Highlight ( Updated : 11/01/2022 )</p>
                                <iframe width="600"
                                    height="350"
                                    src="https://www.youtube.com/embed/m8e-FF8MsqU"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen></iframe>
                            </div>
                        </div>
                    </div>

                </div>
            </section>
            <!-- ======= End  Home Section ======= -->
            <!-- ======= About Section ======= -->
            <section id="about" class="about">
                <div class="container">
                    <div class="section-title">
                        <h2>About</h2>
                    </div>

                    <div class="row">
                        <div class="col-lg-4" data-aos="fade-right">
                            <img src="/images/sample/profile-img.jpg" class="img-fluid" alt="" />
                        </div>
                        <div class="col-lg-8 pt-4 pt-lg-0 content" data-aos="fade-left">
                            <h3>Introduce yourself in one line.</h3>
                            <div class="row">
                                <div class="col-lg-6">
                                    <ul>
                                        <li>
                                            <i class="bi bi-chevron-right"></i>
                                            <strong>Birthday:</strong> <span>1 May 1994</span>
                                        </li>
                                        <li>
                                            <i class="bi bi-chevron-right"></i>
                                            <strong>Phone:</strong> <span>+123 456 7890</span>
                                        </li>
                                        <li>
                                            <i class="bi bi-chevron-right"></i> <strong>Size:</strong>
                                            <span>181cm 74kg 👕105👖32👞270</span>
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-lg-6">
                                    <ul>
                                        <li>
                                            <i class="bi bi-chevron-right"></i> <strong>Age:</strong>
                                            <span>31</span>
                                        </li>
                                        <li>
                                            <i class="bi bi-chevron-right"></i>
                                            <strong>Email:</strong>
                                            <span>email@example.com</span>
                                        </li>
                                    </ul>
                                </div>

                                <div class="col-lg-12" style="margin-top:30px;">
                                    <h3>Main Filmography</h3>
                                    <ul>
                                        <li>
                                            <strong>드라마 - </strong> <span>SBS 치얼업 단역</span>
                                        </li>
                                        <li>
                                            <strong>광고 - </strong> <span>신세계 ‘JAJU’ 디즈니 메인페이지</span>
                                        </li>
                                        <li>
                                            <strong>광고 - </strong> <span>PlayStation Korea 공식 유튜브</span>
                                        </li>
                                        <li>
                                            <strong>방송 - </strong> <span>나는 솔로</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- End About Section -->
            <!-- ======= Concept1 Section ======= -->
            <section id="concept1" class="concept1">
                <div class="container">

                    <div class="section-title">
                        <h2>Concept1</h2>
                    </div>

                    @*<div class="row" data-aos="fade-up">
                <div class="col-lg-12 d-flex justify-content-center">
                <ul id="portfolio-flters">
                <li data-filter="*" class="filter-active">All</li>
                <li data-filter=".filter-app">App</li>
                <li data-filter=".filter-card">Card</li>
                <li data-filter=".filter-web">Web</li>
                </ul>
                </div>
                </div>*@

                    <div class="row portfolio-container" data-aos="fade-up" data-aos-delay="100">

                        <div class="col-md-6 portfolio-item filter-app">
                            <div class="portfolio-wrap">
                                <iframe width="635"
                                    height="330"
                                    src="https://www.youtube.com/embed/m8e-FF8MsqU"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen></iframe>
                            </div>
                        </div>

                        <div class="col-md-6 portfolio-item filter-app">
                            <div class="portfolio-wrap">
                                <iframe width="635"
                                    height="330"
                                    src="https://www.youtube.com/embed/m8e-FF8MsqU"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen></iframe>
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-6 portfolio-item filter-card">
                            <div class="portfolio-wrap">
                                <img src="/images/sample/pic/portfolio-4.jpg" class="img-fluid" alt="">
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-6 portfolio-item filter-web">
                            <div class="portfolio-wrap">
                                <img src="/images/sample/pic/portfolio-5.jpg" class="img-fluid" alt="">
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-6 portfolio-item filter-app">
                            <div class="portfolio-wrap">
                                <img src="/images/sample/pic/portfolio-6.jpg" class="img-fluid" alt="">
                            </div>
                        </div>

                    </div>

                </div>
            </section>
            <!-- End Concept1 Section -->
            <!-- ======= Concept2 Section ======= -->
            <section id="concept2" class="concept2">
                <div class="container">

                    <div class="section-title">
                        <h2>Concept2</h2>
                    </div>

                    @*<div class="row" data-aos="fade-up">
                <div class="col-lg-12 d-flex justify-content-center">
                <ul id="portfolio-flters">
                <li data-filter="*" class="filter-active">All</li>
                <li data-filter=".filter-app">App</li>
                <li data-filter=".filter-card">Card</li>
                <li data-filter=".filter-web">Web</li>
                </ul>
                </div>
                </div>*@

                    <div class="row portfolio-container" data-aos="fade-up" data-aos-delay="100">

                        <div class="col-md-6 portfolio-item filter-app">
                            <div class="portfolio-wrap">
                                <iframe width="635"
                                    height="330"
                                    src="https://www.youtube.com/embed/m8e-FF8MsqU"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen></iframe>
                            </div>
                        </div>

                        <div class="col-md-6 portfolio-item filter-app">
                            <div class="portfolio-wrap">
                                <iframe width="635"
                                    height="330"
                                    src="https://www.youtube.com/embed/m8e-FF8MsqU"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen></iframe>
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-6 portfolio-item filter-app">
                            <div class="portfolio-wrap">
                                <img src="/images/sample/pic/portfolio-1.jpg" class="img-fluid" alt="">
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-6 portfolio-item filter-web">
                            <div class="portfolio-wrap">
                                <img src="/images/sample/pic/portfolio-2.jpg" class="img-fluid" alt="">
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-6 portfolio-item filter-app">
                            <div class="portfolio-wrap">
                                <img src="/images/sample/pic/portfolio-3.jpg" class="img-fluid" alt="">
                            </div>
                        </div>

                    </div>

                </div>
            </section>
            <!-- End Concept2 Section -->
        </main>
        <!-- ======= End  Main Section ======= -->
    </EditForm>
}
else
{
    <header id="header">
        <div class="d-flex flex-column">
            <div class="profile">
                <img src="/images/sample/profile-img.jpg" alt="" class="img-fluid rounded-circle">
                <h1 class="text-light"><a>@edtingPortfolio.SideName</a></h1>
                <div class="social-links mt-3 text-center">
                    <a class="twitter"><i class="bx bxl-twitter"></i></a>
                    <a class="facebook"><i class="bx bxl-facebook"></i></a>
                    <a class="instagram"><i class="bx bxl-instagram"></i></a>
                    <a class="google-plus"><i class="bx bxl-skype"></i></a>
                    <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
                </div>
            </div>

            <nav id="navbar" class="nav-menu navbar">
                <ul>
                    <li>
                        <a id="navhome" href="" @onclick="@(e => ScrollIntoView("home"))" class="nav-link scrollto active" @onclick:preventDefault><i class='bx bxs-home'></i> <span>Home</span></a>
                    </li>
                    <li>
                        <a id="navabout" href="" @onclick="@(e => ScrollIntoView("about"))" class="nav-link scrollto" @onclick:preventDefault><i class="bx bx-user"></i> <span>About</span></a>
                    </li>
                    <li>
                        <a id="navconcept1" href="" @onclick="@(e => ScrollIntoView("concept1"))" class="nav-link scrollto" @onclick:preventDefault>
                            <i class="bx bxs-layer"></i>
                            <span>@edtingPortfolio.Concept1</span>
                        </a>
                    </li>
                    <li>
                        <a id="navconcept2" href="" @onclick="@(e => ScrollIntoView("concept2"))" class="nav-link scrollto" @onclick:preventDefault>
                            <i class="bx bxs-layer"></i>
                            <span>@edtingPortfolio.Concept2</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <!-- .nav-menu -->
        </div>
    </header>

    <!-- ======= Main Section ======= -->
    <main id="main">
        <div class="row">
            <div class="section-title col-lg-10 col-md-6">
            </div>

            <div class="col-lg-2 col-md-6 d-md-flex">
                <div>
                    <button class="btn btn-danger" @onclick="() => BackPortfolio()">Back</button>
                    <button class="btn btn-success" @onclick="(() => EditPortfolio())">Edit</button>
                    <button class="btn btn-primary" @onclick="(() => SavePortfolio())">Save</button>
                </div>
            </div>
        </div>

        <!-- ======= Home Section ======= -->
        <section id="home" class="home">
            <div class="container">

                <div class="row">
                    <div class="section-title col-lg-10 col-md-6" style="margin-bottom:100px;">
                        <h2>HELLO, MY NAME IS</h2>
                        <p>
                            <h1><strong>@edtingPortfolio.RightName</strong>입니다.</h1>
                            <h3>@edtingPortfolio.RightEnglishName</h3>
                        </p>
                    </div>
                </div>

                <div class="row no-gutters">

                    <div class="col-lg-6 col-md-6 d-md-flex align-items-md-stretch aos-init aos-animate" data-aos="fade-up">
                        <div class="count-box">
                            <i class="bi bi-emoji-smile"></i>
                            <p class="align-center" style="font-size:32px; font-weight:bold; color:#173b6c;">Camera Test ( Updated : @edtingPortfolio.CameraTestDateUpdated.ToShortDateString() )</p>
                            <iframe width="600"
                                height="350"
                                src="https://www.youtube.com/embed/m8e-FF8MsqU"
                                frameborder="0"
                                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen></iframe>
                        </div>
                    </div>

                    <div class="col-lg-6 col-md-6 d-md-flex align-items-md-stretch aos-init aos-animate" data-aos="fade-up" data-aos-delay="100">
                        <div class="count-box">
                            <i class="bi bi-journal-richtext"></i>
                            <p style="font-size:32px; font-weight:bold; color:#173b6c">Highlight ( Updated : @edtingPortfolio.HighlightDateUpdated.ToShortDateString() )</p>
                            <iframe width="600"
                                height="350"
                                src="https://www.youtube.com/embed/m8e-FF8MsqU"
                                frameborder="0"
                                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

            </div>
        </section>
        <!-- ======= End  Home Section ======= -->
        <!-- ======= About Section ======= -->
        <section id="about" class="about">
            <div class="container">
                <div class="section-title">
                    <h2>About</h2>
                </div>

                <div class="row">
                    <div class="col-lg-4" data-aos="fade-right">
                        <img src="/images/sample/profile-img.jpg" class="img-fluid" alt="" />
                    </div>
                    <div class="col-lg-8 pt-4 pt-lg-0 content" data-aos="fade-left">
                        <h3>@edtingPortfolio.AboutIntroduce</h3>
                        @*<h3>Introduce yourself in one line.</h3>*@
                        
                        <div class="row">
                            <div class="col-lg-6">
                                <ul>
                                    <li>
                                        <i class="bi bi-chevron-right"></i>
                                        <strong>Birthday:</strong> <span>@edtingPortfolio.AboutBirthday</span>
                                        @*<span>1 May 1994</span>*@
                                    </li>
                                    <li>
                                        <i class="bi bi-chevron-right"></i>
                                        <strong>Phone:</strong> <span>@edtingPortfolio.AboutPhone</span>
                                        @*<span>+123 456 7890</span>*@
                                    </li>
                                    <li>
                                        <i class="bi bi-chevron-right"></i> <strong>Size:</strong>
                                        <span>@edtingPortfolio.AboutSize</span>
                                        @*<span>181cm 74kg 👕105👖32👞270</span>*@
                                    </li>
                                </ul>
                            </div>
                            <div class="col-lg-6">
                                <ul>
                                    <li>
                                        <i class="bi bi-chevron-right"></i> <strong>Age:</strong>
                                        <span>@edtingPortfolio.AboutAge</span>
                                    </li>
                                    <li>
                                        <i class="bi bi-chevron-right"></i>
                                        <strong>Email:</strong>
                                        <span>@edtingPortfolio.AboutEmail</span>
                                    </li>
                                </ul>
                            </div>

                            <div class="col-lg-12" style="margin-top:30px;">
                                <h3>Main Filmography</h3>
                                <ul>
                                    <li>
                                        @edtingPortfolio.AboutMainFilmograpy1
                                        @*<strong>드라마 - </strong> <span>SBS 치얼업 단역</span>*@
                                    </li>
                                    <li>
                                        @edtingPortfolio.AboutMainFilmograpy2
                                        @*<strong>광고 - </strong> <span>신세계 ‘JAJU’ 디즈니 메인페이지</span>*@
                                    </li>
                                    <li>
                                        @edtingPortfolio.AboutMainFilmograpy3
                                        @*<strong>광고 - </strong> <span>PlayStation Korea 공식 유튜브</span>*@
                                    </li>
                                    <li>
                                        @edtingPortfolio.AboutMainFilmograpy4
                                        @*<strong>방송 - </strong> <span>나는 솔로</span>*@
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- End About Section -->
        <!-- ======= Concept1 Section ======= -->
        <section id="concept1" class="concept1">
            <div class="container">

                <div class="section-title">
                    <h2>@edtingPortfolio.Concept1</h2>
                </div>

                @*<div class="row" data-aos="fade-up">
            <div class="col-lg-12 d-flex justify-content-center">
            <ul id="portfolio-flters">
            <li data-filter="*" class="filter-active">All</li>
            <li data-filter=".filter-app">App</li>
            <li data-filter=".filter-card">Card</li>
            <li data-filter=".filter-web">Web</li>
            </ul>
            </div>
            </div>*@

                <div class="row portfolio-container" data-aos="fade-up" data-aos-delay="100">

                    <div class="col-md-6 portfolio-item filter-app">
                        <div class="portfolio-wrap">
                            <iframe width="635"
                                height="330"
                                src="https://www.youtube.com/embed/m8e-FF8MsqU"
                                frameborder="0"
                                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen></iframe>
                        </div>
                    </div>

                    <div class="col-md-6 portfolio-item filter-app">
                        <div class="portfolio-wrap">
                            <iframe width="635"
                                height="330"
                                src="https://www.youtube.com/embed/m8e-FF8MsqU"
                                frameborder="0"
                                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen></iframe>
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-6 portfolio-item filter-card">
                        <div class="portfolio-wrap">
                            <img src="/images/sample/pic/portfolio-4.jpg" class="img-fluid" alt="">
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-6 portfolio-item filter-web">
                        <div class="portfolio-wrap">
                            <img src="/images/sample/pic/portfolio-5.jpg" class="img-fluid" alt="">
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-6 portfolio-item filter-app">
                        <div class="portfolio-wrap">
                            <img src="/images/sample/pic/portfolio-6.jpg" class="img-fluid" alt="">
                        </div>
                    </div>

                </div>

            </div>
        </section>
        <!-- End Concept1 Section -->
        <!-- ======= Concept2 Section ======= -->
        <section id="concept2" class="concept2">
            <div class="container">

                <div class="section-title">
                    <h2>@edtingPortfolio.Concept2</h2>
                </div>

                @*<div class="row" data-aos="fade-up">
            <div class="col-lg-12 d-flex justify-content-center">
            <ul id="portfolio-flters">
            <li data-filter="*" class="filter-active">All</li>
            <li data-filter=".filter-app">App</li>
            <li data-filter=".filter-card">Card</li>
            <li data-filter=".filter-web">Web</li>
            </ul>
            </div>
            </div>*@

                <div class="row portfolio-container" data-aos="fade-up" data-aos-delay="100">

                    <div class="col-md-6 portfolio-item filter-app">
                        <div class="portfolio-wrap">
                            <iframe width="635"
                                height="330"
                                src="https://www.youtube.com/embed/m8e-FF8MsqU"
                                frameborder="0"
                                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen></iframe>
                        </div>
                    </div>

                    <div class="col-md-6 portfolio-item filter-app">
                        <div class="portfolio-wrap">
                            <iframe width="635"
                                height="330"
                                src="https://www.youtube.com/embed/m8e-FF8MsqU"
                                frameborder="0"
                                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen></iframe>
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-6 portfolio-item filter-app">
                        <div class="portfolio-wrap">
                            <img src="/images/sample/pic/portfolio-1.jpg" class="img-fluid" alt="">
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-6 portfolio-item filter-web">
                        <div class="portfolio-wrap">
                            <img src="/images/sample/pic/portfolio-2.jpg" class="img-fluid" alt="">
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-6 portfolio-item filter-app">
                        <div class="portfolio-wrap">
                            <img src="/images/sample/pic/portfolio-3.jpg" class="img-fluid" alt="">
                        </div>
                    </div>

                </div>

            </div>
        </section>
        <!-- End Concept2 Section -->
    </main>
    <!-- ======= End  Main Section ======= -->
}
<!-- ======= End  SideBar Section ======= -->
@code {
    BlazorApp.Shared.Portfolio edtingPortfolio = new BlazorApp.Shared.Portfolio();
    //bool isAuthenticated = false;

    protected override async Task OnInitializedAsync()
    {
        edtingPortfolio = await PortfolioService.GetPortfolio();
        PortfolioService.OnChange += StateHasChanged;
        //isAuthenticated = await AuthService.IsUserAuthenticated();
    }

    public void Dispose()
    {
        PortfolioService.OnChange -= StateHasChanged;
    }

    private void BackPortfolio()
    {
        JSRuntime.InvokeVoidAsync("Expand");
        NavigationManager.NavigateTo("/");
    }

    private async Task SavePortfolio()
    {
        PortfolioService.IsEdit = false;
        edtingPortfolio = await PortfolioService.AddOrUpdatePortfolio(edtingPortfolio);
    }

    private void EditPortfolio()
    {
        PortfolioService.IsEdit = true;
    }

    private void ScrollIntoView(string target)
    {
        JSRuntime.InvokeVoidAsync("ScrollIntoView", target);
    }
}